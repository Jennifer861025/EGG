
#include<Wire.h>
#include<SPI.h>
#include<Adafruit_GFX.h>
#include<Adafruit_SSD1306.h>


#define OLED_MOSI 11
#define OLED_CLK 12
#define OLED_DC 9
#define OLED_CS 8
#define OLED_RESET 10
Adafruit_SSD1306 display(OLED_MOSI,OLED_CLK,OLED_DC,OLED_RESET,OLED_CS);

static const unsigned char PROGMEM Logo[] = {
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00011111, B11111110, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000111, B11111111, B11111111, B11111000, B00000000, B00000000, 
  B00000000, B00000000, B01111110, B00000000, B00000000, B00011111, B10000000, B00000000, 
  B00000000, B00000001, B11100000, B00000000, B00000110, B00000001, B11100000, B00000000, 
  B00000000, B00000111, B10000000, B00000000, B00011111, B11000000, B01111000, B00000000, 
  B00000000, B00001110, B00011111, B00000000, B00001110, B00000000, B00011111, B11000000, 
  B00000000, B00111000, B00111100, B00011111, B11111110, B00000000, B00000111, B11100000, 
  B00000000, B01110000, B00000001, B11100000, B11111000, B00000000, B00000111, B01110000, 
  B00001111, B11100000, B00000011, B11111111, B11110000, B00000000, B00001110, B01110000, 
  B00011111, B11000000, B00000000, B00000000, B01110000, B00000000, B00011100, B01100000, 
  B00011101, B11000000, B00000000, B00000000, B00000000, B00000000, B00011000, B11100000, 
  B00011101, B11100000, B00000000, B00000000, B00000000, B00000000, B00000001, B11110000, 
  B00011100, B11110000, B00000000, B00000000, B00000000, B00000000, B00000001, B11110000, 
  B00001100, B00110000, B00000000, B00000000, B00000000, B00000000, B00000011, B10110000, 
  B00001110, B00000000, B00000000, B00000000, B00000000, B00000000, B00000011, B00111000, 
  B00000111, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000111, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000111, B10000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000111, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000111, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000111, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000011, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000011, B10000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000011, B10000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000001, B10000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00110000, 
  B00000001, B11000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00110000, 
  B00000000, B11000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000000, B11100000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  B00000000, B01110000, B00000000, B00000000, B00000000, B00000000, B00000000, B00111000, 
  
};
static const unsigned char PROGMEM LOGO1[] = {
  B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00111100, B00111111, B00000000, 
  B00000001, B10000000, B00111000, B11000000, 
  B00000110, B01110000, B01110000, B00111000, 
  B00001100, B00011111, B11000000, B00111100, 
  B01111000, B00000000, B01000000, B01101100, 
  B01101100, B00000000, B00000000, B00011100, 
  B00100100, B00000000, B00000000, B00011100, 
  B00110000, B00000000, B00000000, B00000100, 
  B00010000, B00000000, B00000000, B00000110, 
  B00010000, B00000000, B00000000, B00000110, 
  B00010000, B00000000, B00000000, B00000100, 
  B00011000, B00000000, B00000000, B00000100, 
  B00001000, B00000000, B00000000, B00000100, 
  B00001100, B00000000, B00000000, B00000100, 
  
};


const int ledCount = 8;    // the number of LEDs in the bar graph
int ledPins[] = {1, 2, 3, 4, 5, 6, 7,13};  
#define fsr_pin A0


void setup() {
  // put your setup code here, to run once:
  Serial.begin(9600);
  display.begin(SSD1306_SWITCHCAPVCC);
  display.clearDisplay();
  display.drawBitmap(23,0,Logo,64,32,WHITE);
  display.display();
  Serial.begin(115200);
for (int thisLed = 0; thisLed < ledCount; thisLed++) {
pinMode(ledPins[thisLed], OUTPUT);
    }
}

void loop()
{
  int fsr_value = analogRead(fsr_pin); // 讀取FSR
  int led_value = map(fsr_value, 0, 500, 0, 10); // 從0~1023映射到0~10

for (int thisLed = 0; thisLed < ledCount; thisLed++) {
  if (thisLed < led_value) {
   digitalWrite(ledPins[thisLed], HIGH);
  display.clearDisplay();
  display.drawBitmap(23,0,Logo,64,32,WHITE);
  display.display();

    }
 else {
      digitalWrite(ledPins[thisLed], LOW);
       display.clearDisplay();
  display.drawBitmap(23,0,LOGO1,32,16,WHITE);
  display.display();
    } 
  }

  
}


 


